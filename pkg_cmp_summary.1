.\"	$NetBSD$
.\"
.\" Copyright (c) 2008-2010 by Aleksey Cheusov (vle@gmx.net)
.\" Absolutely no warranty.
.\"
.\" ------------------------------------------------------------------
.de VB \" Verbatim Begin
.ft CW
.nf
.ne \\$1
..
.de VE \" Verbatim End
.ft R
.fi
..
.\" ------------------------------------------------------------------
.TH PKG_CMP_SUMMARY 1 "Feb 10, 2008" "" ""
.SH NAME
pkg_cmp_summary \- compares two summary files (pkg_summary(5) format)
.SH SYNOPSIS
.BI pkg_cmp_summary " [OPTIONS] pkg_summary1 pkg_summary2"
.SH DESCRIPTION
.B pkg_cmp_summary
compares package versions in two pkg_summary(5) files.
These files may be generated by pkg_info -X, pkg_src_summary(1)
and other utils.
By default PKGBASE is used for identifying the package.
.P
Format of the results:
.VB
  <R> [PKGPATH] <PKGBASE> <VER1> <VER2>
.VE
where R is
.VB
  -     present in the first file but absent in the second one (disappears)
  +     absent in the first file but present in the second one (appears/new)
  <NUM> more than one package with the same PKGBASE is in the first file
  =     versions are the same
  <     second file contains newer version
  >     second file contains earlier version
  ?     versions are incomparable (incorrect version, for example)
  !     packages are different (versions are the equal but
           CVS_CHECKSUMs, BUILD_DATE or DEPENDS are different)
.VE
.P
PKGBASE is PKGNAME with version stripped,
VER1 and VER2 are package versions.
PKGPATH appears in output if -p option is specified.
.SH OPTIONS
.TP
.B "-h"
display help message
.TP
.B "-p"
use PKGPATH:PKGBASE pair for identifing a package instead of PKGBASE.
.TP
.B "-m"
for comparing summaries for multi-variant packages
(PKGPATH=category/name:variable_assignments format of PKGPATH field)
.TP
.B "-c"
use CVS_CHECKSUM field for comparing in addition to PKGNAME and/or PKGPATH
.TP
.B "-b"
use BUILD_DATE field for comparing in addition to PKGNAME and/or PKGPATH
.TP
.B "-d"
use DEPENDS field for comparing in addition to PKGNAME and/or PKGPATH
.TP
.B "-u"
output A at the end of line for automatically
installed packages and U for packages installed by user.
A field
.I automatic
is expected in
.IR summary1 ,
if it is specified in
.IR summary2 ,
it is ignored.
.TP
.B "-2"
output PKGPATHe from summary1 and from summary2 (<>!=)
.TP
.B "-e"
normally a number of duplications is output as a result of
comparison if they (duplications) exist.  If
.I "-e"
was
applied, = (or !) is output if package from summary2
exists (or doesn't exist) in summary1
.SH SEE ALSO
.BR pkg_summary-utils(7) ,
.BR pkg_summary(5) ,
.BR pkg_src_summary(1) ,
.BR pkg_info(1)
.SH AUTHOR
Aleksey Cheusov <vle@gmx.net>
